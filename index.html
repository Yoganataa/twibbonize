<!DOCTYPE html>
<html lang="en">

<head>
    <link rel="icon" type="image/png" href="logo.png">
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <link rel="stylesheet" href="layout.css">
    <link rel="stylesheet" href="material.min.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/all.min.css">
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css"
        integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">
    <link rel="stylesheet" href="https://fonts.googleapis.com/icon?family=Material+Icons">
    <link href="https://fonts.googleapis.com/css2?family=Plus+Jakarta+Sans&display=swap" rel="stylesheet">
    <script src="jquery-3.3.1.min.js"></script>
    <script src="fabric.min.js"></script>
    <script src="FileSaver.js"></script>
    <script src="canvas-toBlob.js"></script>
    <script src="material.min.js"></script>
    <link rel="shortcut icon" href="">
    <title>Twibbonize</title>
    <style>
        textarea {
            display: flex;
            width: 100%;
            padding: 1px 3px 1px 1px;
            border: 1px solid #ccc;
            border-radius: 4px;
            resize: vertical;
            font-size: 16px;
            line-height: 1.5;
            min-height: 300px;
            box-sizing: border-box;
            margin-top: 5px;
            align-items: flex-start;
        }


        .copy-btn {
            position: absolute;
            right: 12px;
            top: 12px;
            padding: 6px;
            border: none;
            border-radius: 4px;
            cursor: pointer;
        }

        .copy-btn i {
            margin-right: 8px;
        }
        ::-webkit-scrollbar {
            display: none;
        }
        .borderx{
            border-radius: 20%;
            width: 80px;
        }

    </style>
</head>

<body>
    <div class="container">

        <div class="wrapper">
            <div class="editor">
                <div class="canvas-padding">
                    <canvas id="c"></canvas>
                </div>
                <div class="tombol">
                    <div class="mdl-textfield mdl-js-textfield mdl-textfield--file">
                        <input class="mdl-textfield__input" placeholder="Unggah foto kamu 👉🏻" type="text"
                            id="uploadFile" readonly />
                        <div class="mdl-button mdl-button--primary mdl-button--icon mdl-button--file">
                            <i class="material-icons">attach_file</i><input type="file" id="uploadBtn">
                        </div>
                    </div>

                    <br>
                    <button id="download"
                        class="mdl-button bg-success mdl-js-button mdl-button--raised mdl-js-ripple-effect mdl-button--accent">unduh</button>

                </div>
            </div>

            <div class="control animat">

                <h2 class="headline">KAMPUS MENGAJAR 5 & SMP NEGERI 3 SRENGAT</h2>
                <div class="spinner-grow text-primary" role="status">
                    <span class="sr-only">Loading...</span>
                </div>
                <div class="spinner-grow text-secondary" role="status">
                    <span class="sr-only">Loading...</span>
                </div>
                <div class="spinner-grow text-success" role="status">
                    <span class="sr-only">Loading...</span>
                </div>
                <div class="spinner-grow text-danger" role="status">
                    <span class="sr-only">Loading...</span>
                </div>
                <div class="spinner-grow text-warning" role="status">
                    <span class="sr-only">Loading...</span>
                </div>
                <div class="spinner-grow text-info" role="status">
                    <span class="sr-only">Loading...</span>
                </div>
                <div class="spinner-grow text-light" role="status">
                    <span class="sr-only">Loading...</span>
                </div>
                <div class="spinner-grow text-dark" role="status">
                    <span class="sr-only">Loading...</span>
                </div>

                <h2>Ayo buat foto Twibbon Kamu!</h2>
                <p>
                    Unggah foto terbaik kamu
                </p>
                <div class="container my-5">
                    <div class="row">
                        <div class="col-md-8">
                            <div class="position-relative">
                                <textarea id="textbox" placeholder="Jangan Dihapus...">
("Kata kata bijak")
Saya……….. dari kelas……….
Mengucapkan Taqabbalallahu minna wa minkum selamat Hari Raya Idul Fitri 1444 H mohon maaf lahir dan batin.
Dengan bahagia menyambut hari kemenangan bagi kita semua semoga hari ini hati makin suci dan keberkahan semakin berlipat.

#kampusmengajar
#kampusmengajar5
#kampusmengajarangkatan5
#belajarsambilberdampak

@veynata_
@na.cicinimasn
@shyti_purwasih03
@nurmalarst_
@zeeklj
                                </textarea>
                                <button class="copy-btn" type="button" onclick="copyToClipboard()" mdl-button bg-success mdl-js-button mdl-button--raised mdl-js-ripple-effect mdl-button--accent>Copy</button>
                            </div>
                        </div>
                    </div>
                </div>
                <!-- <input type="file" id="d"> -->


            
            </div>
            <br>
            <!-- Footer -->
            <footer class="footer">
                <div class="container">
                  <div class="row">
                    <div class="col-md-4">
                      <img class="borderx" src="./p.jpg" alt="Profile Picture" class="img-fluid">
                    </div>
                    <div class="col-md-4">
                      <h5>By Nata</h5>
                      <a href="https://www.instagram.com/veynata_"> <i class="fab fa-instagram"></i> veynata_</a>
                    </div>
                  </div>
                </div>
              </footer>
              
        </div>
        <script>
            const textarea = document.querySelector('textarea');
            textarea.addEventListener('input', autoResize, false);

            function autoResize() {
                this.style.height = 'auto';
                this.style.height = this.scrollHeight + 'px';
            }

            function copyToClipboard() {
                const textbox = document.getElementById('textbox');
                textbox.select();
                document.execCommand('copy');
            }
        </script>
        <script>
            document.getElementById("uploadBtn").onchange = function () {
                document.getElementById("uploadFile").value = this.files[0].name;
            };
            var canvas = new fabric.Canvas('c');
            canvas.setWidth(1649);
            canvas.setHeight(1649);

            var canvasWrapper = document.getElementById('c');
            var canvasWrapperWidth = canvasWrapper.clientWidth;
            $(function () {
                $(":file").change(function () {
                    if (this.files && this.files[0]) {
                        var reader = new FileReader();
                        reader.onload = imageIsLoaded;
                        reader.readAsDataURL(this.files[0]);
                    }
                });
            });
            fabric.Image.fromURL('spenega.png', function (img) {
                img.scaleToWidth(canvas.getWidth());
                canvas.setOverlayImage(img, canvas.renderAll.bind(canvas));
            });
            function imageIsLoaded(e) {
                fabric.Image.fromURL(e.target.result, function (img) {
                    var aspectRatio = 1350 / 1080;
                    var factor = 1080 / img.width;
                    img.set({
                        scaleX: factor,
                        scaleY: factor
                    });
                    canvas.add(img);
                    canvas.item(0).set({
                        borderColor: 'gray',
                        cornerColor: 'black',
                        cornerSize: 70,
                        borderScaleFactor: 10,
                        hasBorders: true,

                        rotatingPointOffset: 200,
                        padding: 60,
                        transparentCorners: true
                    });
                    canvas.setActiveObject(canvas.item(0));
                    this.__canvases.push(canvas);
                    canvas.sendToBack(img);
                });
            };
            $("#download").click(function () {
                $("#c").get(0).toBlob(function (blob) {
                    saveAs(blob, "twibbonkm5.png");
                });
            });
        </script>
        <script src="https://code.jquery.com/jquery-3.3.1.slim.min.js"
            integrity="sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo"
            crossorigin="anonymous"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/umd/popper.min.js"
            integrity="sha384-UO2eT0CpHqdSJQ6hJty5KVphtPhzWj9WO1clHTMGa3JDZwrnQq4sF86dIHNDz0W1"
            crossorigin="anonymous"></script>
        <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js"
            integrity="sha384-JjSmVgyd0p3pXB1rRibZUAYoIIy6OrQ6VrjIEaFf/nJGzIxFDsf4x0xIM+B07jRM"
            crossorigin="anonymous"></script>


</body>

</html>